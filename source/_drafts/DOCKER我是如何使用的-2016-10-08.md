---
title: DOCKER我是如何使用的
date: 2016-10-08 00:03:21
tags:
    - Docker
    - 运维
categories: 技术分享与总结
---

#### 背景和问题


#### 解决方法：


#### 常用命令:

- `docker run -v ~/go_workplace/:/go_workplace --restart=always -t -d -i golang/iris:latest /bin/bash` 运行一个完成的 docker 容器

其中

`-d` 是表示daemon运行

`-v` 表示文件路径映射

`--restart` 用于设置docker attach退出之后重启

- `docker commit 096 golang/iris` 提交容器变化

- `docker attach 096dsfa78fd`  连入容器 需要`/bin/bash`启动时才能执行命令

`ctrl +p && ctrl + q` 可以退出。

- `docker export 7691a814370e > golang.tar`

导出（ exported-imported)docker image 的会丢失历史层。

但是通过saveed-loaded可以回滚到层次里。

可以通过`docker history 看到层次变化也可以 根据层次运行东西`



- `cat golang.tar | sudo docker import - golang/iris:1.0`

- docker cp 可以直接拷贝文件到 docker 容器之中

- docker run中有--net=host表示使用主机一样的文件，但是会有安全风险。默认是bridge

- docker  